<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="apple-touch-icon" sizes="180x180" href="{{.Site.BaseURL}}/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="{{.Site.BaseURL}}/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="{{.Site.BaseURL}}/favicon-16x16.png">
<link rel="manifest" href="{{.Site.BaseURL}}/site.webmanifest">
<link rel="mask-icon" href="{{.Site.BaseURL}}/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" data-tag="light" media="(prefers-color-scheme: light)" content="#00223E" />
<meta name="theme-color" data-tag="dark" media="(prefers-color-scheme: dark)" content="#08151E" />


{{ with.Description }}<meta name="description" content="{{ . }}" />
{{ end }}
<meta name="keywords" content="{{ if .Keywords }}{{ range.Keywords }}{{ . }},
{{ end }}{{else if isset .Params "tags" }}{{ range.Params.tags }}{{ . }},
{{ end }}{{ end }}">

{{ template "_internal/opengraph.html" . }}
<meta property="og:site_name" content="{{ .Site.Title }}" />

{{ partial "twitter_cards_default_small.html" . }}

{{ template "_internal/schema.html" . }}

{{- $imgs := partial "_funcs/get-page-images-resources-only" . -}}
{{- $featured := index $imgs 0 -}}
{{- if and $featured $featured.Image -}}
  {{- with .Resources.Get $featured.Image -}}
    {{- $fileSize := len .Content -}}
    {{- if gt ($fileSize) (2_000_000) -}}
      {{/* We warn instead of resizing automatically because I didn't want to have to maintain forks of all the metadata templates. */}}
      {{- warnf "FYI: Image %s is %.2f MB. Anything larger than 2MB might not show up on Signal link previews." .RelPermalink (div $fileSize 1000.0 1000.0) -}}
    {{- end -}}
  {{- end -}}
{{- end -}}
